<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rafael Sant’Ana Herzog">
<meta name="dcterms.date" content="2022-01-25">
<meta name="description" content="Explorando a evolução desse indicador dentro do país por meio do R">

<title>Rafael Sant’Ana Herzog - Entendendo, calculando e visualizando a razão de mortalidade materna do Brasil com o R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-listing/list.min.js"></script>
<script src="../../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: [],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-listing'] = new List('listing-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>

<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.28/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Rafael Sant’Ana Herzog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Sobre mim</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Meus posts</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Entendendo, calculando e visualizando a razão de mortalidade materna do Brasil com o R</h1>
                  <div>
        <div class="description">
          Explorando a evolução desse indicador dentro do país por meio do R
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">estatística</div>
                <div class="quarto-category">R</div>
                <div class="quarto-category">saúde</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://rafaherzog.github.io/rafasantanah/">Rafael Sant’Ana Herzog</a> </p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Estudante de graduação em Estatística na UFES
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 25, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução">Introdução</a></li>
  <li><a href="#carregando-os-pacotes-necessários-e-importando-a-base-de-dados" id="toc-carregando-os-pacotes-necessários-e-importando-a-base-de-dados" class="nav-link" data-scroll-target="#carregando-os-pacotes-necessários-e-importando-a-base-de-dados">Carregando os pacotes necessários e importando a base de dados</a></li>
  <li><a href="#calculando-a-razão-de-mortalidade-materna-e-a-adicionando-à-base-de-dados" id="toc-calculando-a-razão-de-mortalidade-materna-e-a-adicionando-à-base-de-dados" class="nav-link" data-scroll-target="#calculando-a-razão-de-mortalidade-materna-e-a-adicionando-à-base-de-dados">Calculando a razão de mortalidade materna e a adicionando à base de dados</a></li>
  <li><a href="#analisando-a-evolução-da-razão-de-mortalidade-materna-nacional-através-de-um-gráfico-de-linhas" id="toc-analisando-a-evolução-da-razão-de-mortalidade-materna-nacional-através-de-um-gráfico-de-linhas" class="nav-link" data-scroll-target="#analisando-a-evolução-da-razão-de-mortalidade-materna-nacional-através-de-um-gráfico-de-linhas">Analisando a evolução da razão de mortalidade materna nacional através de um gráfico de linhas</a></li>
  <li><a href="#utilizando-gráficos-de-barras-para-visualizar-os-efeitos-da-pandemia-de-h1n1-nos-estados-brasileiros" id="toc-utilizando-gráficos-de-barras-para-visualizar-os-efeitos-da-pandemia-de-h1n1-nos-estados-brasileiros" class="nav-link" data-scroll-target="#utilizando-gráficos-de-barras-para-visualizar-os-efeitos-da-pandemia-de-h1n1-nos-estados-brasileiros">Utilizando gráficos de barras para visualizar os efeitos da pandemia de H1N1 nos estados brasileiros</a></li>
  <li><a href="#observando-a-heterogeneidade-das-regiões-brasileiras-por-meio-de-um-gráfico-de-linhas" id="toc-observando-a-heterogeneidade-das-regiões-brasileiras-por-meio-de-um-gráfico-de-linhas" class="nav-link" data-scroll-target="#observando-a-heterogeneidade-das-regiões-brasileiras-por-meio-de-um-gráfico-de-linhas">Observando a heterogeneidade das regiões brasileiras por meio de um gráfico de linhas</a></li>
  <li><a href="#analisando-o-cenário-atual-da-razão-de-mortalidade-materna-brasileira-por-meio-de-um-mapa-coroplético" id="toc-analisando-o-cenário-atual-da-razão-de-mortalidade-materna-brasileira-por-meio-de-um-mapa-coroplético" class="nav-link" data-scroll-target="#analisando-o-cenário-atual-da-razão-de-mortalidade-materna-brasileira-por-meio-de-um-mapa-coroplético">Analisando o cenário atual da razão de mortalidade materna brasileira por meio de um mapa coroplético</a></li>
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências">Referências</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="introdução" class="level1">
<h1>Introdução</h1>
<p>Neste post, iremos discutir sobre o conceito de razão de mortalidade materna, utilizando o R para a realização de seu cálculo e para a visualização de sua evolução ao longo do tempo no Brasil. Em primeiro lugar, chama-se de razão de mortalidade materna (RMM) o indicador utilizado para conhecer o nível de morte materna, calculado pela razão entre o número de óbitos maternos e o número de nascidos vivos durante um período de tempo e em um determinado espaço geográfico, multiplicada por 100.000 (padrão internacional). Além disso, é considerado como “óbito materno” a “morte de uma mulher durante a gestação, parto ou dentro de um período de 42 dias após o término da gestação (o puerpério) (…), devida a qualquer causa relacionada com ou agravada pela gravidez ou por medidas em relação a ela, porém não devida às causas acidentais ou incidentais” <a href="https://bvsms.saude.gov.br/bvs/publicacoes/qualificacao_saude_sup/pdf/Atenc_saude3fase.pdf#">(OMS, 1997)</a>. Matematicamente, temos que a razão de mortalidade materna é dada por:</p>
<p><span class="math display">\[\frac{\text{Nº de óbitos maternos em um dado período de tempo e espaço geográfico}}{\text{Nº de nascidos vivos sob essas mesmas condições}} \times 100.000\]</span></p>
<p>O resultado do cálculo acima deve ser interpretado como sendo o número de óbitos maternos em um dado período de tempo e em um certo espaço geográfico a cada 100.000 nascidos vivos nessas mesmas condições. Apesar de, em teoria, ser mais correta a utilização do número total de gestações para o denominador dessa razão, a impossibilidade de obtenção desse dado faz com que utilizemos em seu lugar o número total de nascidos vivos, tornando o resultado encontrado para a taxa uma aproximação do seu verdadeiro valor. É também importante destacar que, diferentemente do Ministério da Saúde, que realiza correções no cálculo da razão de mortalidade materna para levar em consideração a subenumeração de mortes maternas e de nascidos vivos, trabalharemos nesse post com a razão de mortalidade materna em seu estado natural, sem maiores modificações.</p>
<p>Com esses conceitos iniciais em mente, passemos, agora, para o cálculo dessa razão no R, bem como para diferentes formas de como podemos visualizar sua evolução no país ao longo dos anos.</p>
</section>
<section id="carregando-os-pacotes-necessários-e-importando-a-base-de-dados" class="level1">
<h1>Carregando os pacotes necessários e importando a base de dados</h1>
<p>Para a realização do cálculo da razão de mortalidade materna no R, precisamos, primeiramente, carregar o pacote <tt>tidyverse</tt>, formado por uma coleção de outros pacotes que nos serão úteis, em especial o <tt>dplyr</tt>, o <tt>readr</tt> e o <tt>ggplot2</tt>. Carregaremos, também, os pacotes <tt>sf</tt> e <tt>DT</tt>, que serão utilizados, respectivamente, para a leitura de um arquivo do tipo <tt>shapefile</tt> e para a construção de uma tabela, ambos no último exemplo do texto.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carregando os pacotes necessários</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para importar a base de dados com a qual trabalharemos ao longo do post, será utilizada a função <tt>read_delim</tt>, do pacote <tt>readr</tt>, que receberá dois argumentos: o primeiro, <tt>file</tt>, recebe o nome do arquivo <tt>.csv</tt> que contém nossa base de dados; já o segundo argumento, <tt>delim</tt>, recebe o delimitador utilizado no arquivo para separar suas colunas, que nesse caso é o ponto e vírgula. A base de dados será salva no objeto nomeado por <tt>dados_maternos</tt>. Caso queira, você também pode realizar o download do arquivo através <a href="https://drive.google.com/file/d/18ABAfA0yNSiCP-yla4zwu2KHTnicC5RS/view?usp=sharing">deste link.</a></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dados_maternos <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="at">file =</span> <span class="st">"dados_maternos.csv"</span>, <span class="at">delim =</span> <span class="st">";"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A tibble <tt>dados_maternos</tt> é formada por seis colunas, que contêm, respectivamente, o código do estado, sua sigla, a região à qual o estado pertence, o ano ao qual a linha se refere (indo de 2005 a 2019, uma vez que os dados de 2020 e 2021 ainda são preliminares), o número de nascidos vivos no estado no dado ano e o número de óbitos maternos no mesmo. As linhas da tibble estão ordenadas de acordo com o código das unidades federativas. Os dados referentes aos nascidos vivos são provenientes do SINASC (Sistema de Informações sobre Nascidos Vivos) e foram obtidos através do <a href="http://svs.aids.gov.br/dantps/centrais-de-conteudos/paineis-de-monitoramento/natalidade/nascidos-vivos/">Painel de Monitoramento de Nascidos Vivos</a> do Ministério da Saúde, enquanto as informações sobre os óbitos maternos são provenientes do SIM (Sistema de Informações sobre Mortalidade) e foram obtidas por meio do <a href="http://svs.aids.gov.br/dantps/centrais-de-conteudos/paineis-de-monitoramento/mortalidade/materna/">Painel de Monitoramento da Mortalidade Materna</a> do mesmo órgão. Observe abaixo as dez primeiras linhas da tibble.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dados_maternos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 405 × 6
   codigo_uf uf    regiao   ano nascimentos obitos
       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;
 1        11 RO    Norte   2005       28081     15
 2        11 RO    Norte   2006       24925     15
 3        11 RO    Norte   2007       22996     10
 4        11 RO    Norte   2008       26791     12
 5        11 RO    Norte   2009       26083     17
 6        11 RO    Norte   2010       25835     16
 7        11 RO    Norte   2011       27658     15
 8        11 RO    Norte   2012       26513     17
 9        11 RO    Norte   2013       27097     18
10        11 RO    Norte   2014       27560     22
# ℹ 395 more rows</code></pre>
</div>
</div>
</section>
<section id="calculando-a-razão-de-mortalidade-materna-e-a-adicionando-à-base-de-dados" class="level1">
<h1>Calculando a razão de mortalidade materna e a adicionando à base de dados</h1>
<p>Caso nosso interesse seja apenas adicionar uma coluna contendo a razão de mortalidade materna para cada estado e ano à nossa base de dados, precisamos apenas executar um comando. Utilizando a função <tt>mutate</tt>, do pacote <tt>dplyr</tt>, adicionaremos uma nova coluna à tibble <tt>dados_maternos</tt>, a qual nomearemos por “mortalidade”. Essa nova coluna será formada por um vetor de números no qual cada posição representa o valor do cálculo discutido na seção anterior para cada uma das linhas de <tt>dados_maternos</tt>, arredondados para duas casas decimais por meio da função <tt>round</tt>, do pacote básico <tt>base</tt>. Por padrão, a função <tt>mutate</tt> irá manter todas as colunas originais da tibble utlizada, adicionando a nova coluna em seu lado direito.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando a razão de mortalidade materna e a adicionando à base de dados</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dados_maternos <span class="ot">&lt;-</span> dados_maternos <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"mortalidade"</span> <span class="ot">=</span> <span class="fu">round</span>((dados_maternos<span class="sc">$</span>obitos<span class="sc">/</span>dados_maternos<span class="sc">$</span>nascimentos) <span class="sc">*</span> <span class="dv">100000</span>, <span class="at">digits =</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As primeiras linhas do objeto resultante desse processo podem ser vistas a seguir:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dados_maternos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 405 × 7
   codigo_uf uf    regiao   ano nascimentos obitos mortalidade
       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;
 1        11 RO    Norte   2005       28081     15        53.4
 2        11 RO    Norte   2006       24925     15        60.2
 3        11 RO    Norte   2007       22996     10        43.5
 4        11 RO    Norte   2008       26791     12        44.8
 5        11 RO    Norte   2009       26083     17        65.2
 6        11 RO    Norte   2010       25835     16        61.9
 7        11 RO    Norte   2011       27658     15        54.2
 8        11 RO    Norte   2012       26513     17        64.1
 9        11 RO    Norte   2013       27097     18        66.4
10        11 RO    Norte   2014       27560     22        79.8
# ℹ 395 more rows</code></pre>
</div>
</div>
</section>
<section id="analisando-a-evolução-da-razão-de-mortalidade-materna-nacional-através-de-um-gráfico-de-linhas" class="level1">
<h1>Analisando a evolução da razão de mortalidade materna nacional através de um gráfico de linhas</h1>
<p>Agora que já sabemos como calcular a razão de mortalidade materna e como adicioná-la à nossa base de dados, podemos passar para algumas análises e manipulações mais interessantes. O primeiro exemplo tratará de uma visão nacional do indicador. Para realizar uma análise de sua evolução ao longo dos anos, utilizaremos um gráfico de linhas, tipo de gráfico muito útil quando o objetivo é observar o comportamento de séries temporais. Primeiramente, precisamos agrupar nossa base de dados por ano, uma vez que queremos analisar todos os estados de forma conjunta. Para isso, será utilizada a função <tt>group_by</tt>, do pacote <tt>dplyr</tt>, na qual o primeiro argumento é o <tt>data.frame</tt>, ou tibble, no(a) qual a operação será realizada, e o segundo argumento é o nome da variável pela qual queremos que os dados sejam agrupados. Caso tivéssemos interesse em agrupá-los por mais de uma variável, bastaria adicionar os nomes das outras variáveis após “ano”, separados por vírgula.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupando os dados por ano e os resumindo</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dados_maternos_nacional <span class="ot">&lt;-</span> <span class="fu">group_by</span>(dados_maternos, ano) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">nascimentos_br =</span> <span class="fu">sum</span>(nascimentos),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">obitos_br =</span> <span class="fu">sum</span>(obitos),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">mortalidade_br =</span> <span class="fu">round</span>((obitos_br<span class="sc">/</span>nascimentos_br) <span class="sc">*</span> <span class="dv">100000</span>, <span class="dv">2</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Feito o agrupamento, utilizamos a função <tt>summarise</tt>, também do pacote <tt>dplyr</tt>, para realizar a criação de uma nova tibble, que será como um resumo de <tt>dados_maternos</tt>. O número de linhas dessa tibble será igual ao número de combinações possíveis das variáveis agrupadas no passo anterior; como agrupamos apenas por ano, a nova tibble terá 15 linhas, uma para cada ano diferente presente na base de dados utilizada. Os argumentos de <tt>summarise</tt> serão pares de nomes e funções, nos quais os primeiros serão os nomes das colunas que irão compor a nova tibble, e as segundas são as funções que serão aplicadas na variável indicada da tibble original. Assim, criaremos três novas colunas: <tt>nascimentos_br</tt>, que receberá a soma de todos os nascidos vivos no dado ano; <tt>obitos_br</tt>, que receberá a soma de todos os óbitos maternos no dado ano; e <tt>mortalidade_br</tt>, que receberá a razão de mortalidade materna do período.</p>
<p>Note que não tivemos que dizer qual o <tt>data.frame</tt> (ou tibble) que seria utilizado nessa função, visto que estamos utilizando o operador <tt>pipe (|&gt;)</tt> para encadear as funções <tt>group_by</tt> e <tt>summarise</tt>. O resultado desse código, guardado no objeto <tt>dados_maternos_nacional</tt>, é uma tibble cujas primeiras linhas podem ser vistas a seguir:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dados_maternos_nacional</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 4
     ano nascimentos_br obitos_br mortalidade_br
   &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;
 1  2005        3035096      1620           53.4
 2  2006        2944928      1623           55.1
 3  2007        2891328      1590           55.0
 4  2008        2934828      1681           57.3
 5  2009        2881581      1872           65.0
 6  2010        2861868      1719           60.1
 7  2011        2913160      1610           55.3
 8  2012        2905789      1583           54.5
 9  2013        2904027      1686           58.1
10  2014        2979259      1739           58.4
11  2015        3017668      1738           57.6
12  2016        2857800      1670           58.4
13  2017        2923535      1718           58.8
14  2018        2944932      1658           56.3
15  2019        2849146      1576           55.3</code></pre>
</div>
</div>
<p>Com os dados preparados, podemos partir para a construção do gráfico de linhas, na qual utilizaremos a função <tt>ggplot</tt>, do pacote <tt>ggplot2</tt>. Atribuiremos ao argumento <tt>data</tt> a tibble <tt>dados_maternos_nacional</tt>, e ao argumento <tt>mapping</tt> os aesthetics do nosso gráfico, que nesse caso serão apenas o eixo x, que receberá a variável <tt>ano</tt>, e o eixo y, que receberá a variável <tt>mortalidade_br</tt>. O primeiro complemento do gráfico será a função <tt>geom_line</tt>, que criará a(s) linha(s) do gráfico de linhas. Os únicos argumentos que utilizaremos nessa função serão o <tt>color</tt>, para alterar a cor da linha a ser gerada, e o <tt>size</tt>, para alterar sua expessura. O próximo complemento, <tt>geom_point</tt>, é utilizado para fazer gráficos de dispersão, e criará pontos em nosso gráfico para facilitar sua visualização. Em <tt>scale_x_continuous</tt>, definimos que as marcações do eixo x devem ocorrer de ano em ano. O título do gráfico, sua legenda e os nomes dos eixos são atribuídos pelo complemento <tt>labs</tt>, e utilizaremos <tt>theme</tt> apenas para alterar o tamanho dos textos do gráfico.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construindo o gráfico de linhas</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_maternos_nacional, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ano, <span class="at">y =</span> mortalidade_br)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#32A0FF"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(dados_maternos_nacional<span class="sc">$</span>ano)) <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolução da razão de mortalidade materna brasileira ao longo do tempo"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fontes: SIM e SINASC"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ano"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Razão de mortalidade materna"</span>) <span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Uma análise rápida do gráfico nos permite fazer um questionamento óbvio: o que aconteceu de 2008 para 2009 para que a razão de mortalidade materna nacional tivesse um aumento tão significativo em seu valor? A resposta, um assunto que está atualmente em alta: uma pandemia, que nesse caso era do vírus da Influenza A (H1N1). Observe o próximo exemplo para ter uma melhor noção dos efeitos dessa pandemia na razão de mortalidade materna em uma escala estadual.</p>
</section>
<section id="utilizando-gráficos-de-barras-para-visualizar-os-efeitos-da-pandemia-de-h1n1-nos-estados-brasileiros" class="level1">
<h1>Utilizando gráficos de barras para visualizar os efeitos da pandemia de H1N1 nos estados brasileiros</h1>
<p><a href="https://www.bbc.com/portuguese/brasil-52042879">Iniciada no México em abril de 2009</a>, a pandemia do vírus da Influnza A, assim declarada em junho do mesmo ano pela OMS <a href="https://g1.globo.com/Sites/Especiais/Noticias/0,,MUL1191163-16726,00-ORGANIZACAO+MUNDIAL+DE+SAUDE+DECLARA+PANDEMIA+DA+NOVA+GRIPE.html">(G1, 2009)</a>, espalhou-se rapidamente pelo mundo. No Brasil, até dezembro de 2010, foram confirmados 59.867 casos e 2.173 mortes (da população geral) pelo vírus, de acordo com <a href="https://piaui.folha.uol.com.br/lupa/2020/03/27/verificamos-coronavirus-h1n1/">dados do Ministério da Saúde</a>. Gestantes, entretanto, estão mais suscetíveis às complicações e aos óbitos por doenças infecciosas, como é o caso da Influenza. Dessa forma, mesmo que esse grupo de mulheres tenha sido precocemente identificado como um grupo de risco durante a pandemia de H1N1, houve, no ano de 2009, um aumento no número de óbitos maternos (e consequentemente, na razão de mortalidade materna, como observado no gráfico anterior), visto que a campanha nacional de vacinação contra o vírus foi iniciada apenas em março de 2010.</p>
<p>Para este exemplo, digamos que seja de nosso interesse realizar a seguinte análise: observar a evolução das razões de mortalidade materna por estado nos anos de 2008 (pré-pandemia), 2009 (durante a pandemia), 2010 (início da vacinação) e 2011 (pós-pandemia), utilizando para isso uma série de gráficos de barras. O primeiro passo, como no exemplo anterior, é a preparação dos dados. Para realizá-la, utilizaremos a função <tt>filter</tt>, do pacote <tt>dplyr</tt> que filtrará no banco de dados designado apenas as linhas em que todas as condições dadas forem satisfeitas. Dessa forma, os argumentos dessa função devem ser expressões que retornem um valor lógico. No nosso caso, queremos filtrar as linhas da tibble <tt>dados_maternos</tt> nas quais a variável <tt>ano</tt> está entre 2008 e 2011, considerando os extremos. A tibble resultante dessa operação será salva em <tt>dados_maternos_h1n1</tt>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando apenas os dados de 2008 a 2010</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>dados_maternos_h1n1 <span class="ot">&lt;-</span> dados_maternos <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ano <span class="sc">&gt;=</span> <span class="dv">2008</span> <span class="sc">&amp;</span> ano <span class="sc">&lt;=</span> <span class="dv">2011</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A construção do gráfico, apesar de também ser feita através do pacote <tt>ggplot2</tt>, é significativamente diferente àquela feita no exemplo anterior. Dentro da função <tt>ggplot</tt>, o argumento <tt>data</tt> receberá a tibble criada acima, enquanto os aesthetics do gráfico serão três: no eixo x, queremos a variável <tt>uf</tt>; no eixo y, a variável <tt>mortalidade</tt>; por fim, o argumento <tt>fill</tt> determinará de que forma cada barra do gráfico será preenchida, e queremos que seja de acordo com a variável <tt>ano</tt>. Note que estamos transformando essa última variável numa variável categórica por meio da função <tt>as.factor</tt>.</p>
<p>O primeiro complemento do gráfico é a função <tt>geom_col</tt>, a qual construirá nossos gráficos de barras e que possui dois argumentos: <tt>position = “dodge”</tt>, que faz com que as barras construídas para cada estado sejam postas lado a lado, facilitando sua visualização, e <tt>width = 0.5</tt>, que muda a expessura das barras. O próximo complemento, <tt>facet_wrap</tt>, será responsável pela mágica desse exemplo. Imagine como seria péssima a visualização de 27 gráficos de barras, com quatro barras cada, numa única linha. Lembre-se, entretanto, que a nossa tibble <tt>dados_maternos_h1n1</tt> possui uma coluna que especifica a região de cada estado. Assim, utilizaremos a função <tt>facet_wrap</tt> para que nosso gráfico contenha cinco fileiras de gráficos de barras, separando os gráficos de cada estado de acordo com a região à qual pertencem. Os argumentos que iremos utilizar são três: <tt>facets = vars(regiao)</tt> indicará que o gráfico deve ser separado pela variável <tt>regiao</tt>; <tt>scales = “free_x”</tt> torna as escalas do eixo x livres, fazendo com que os únicos valores exibidos no eixo x de cada gráfico sejam os estados que pertencem à dada região; o último, <tt>ncol = 1</tt>, define que o gráfico deve ter apenas uma coluna. Com o complemento <tt>scale_fill_manual</tt>, definiremos cores específicas para cada um dos quatro anos presentes no gráfico. Por fim, mudamos a posição da legenda do gráfico para o topo, utilizando o argumento <tt>legend.position = “top”</tt>, do complemento <tt>theme()</tt>. O gráfico resultante de todo esse processo pode ser visto abaixo.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construindo os gráficos de barras</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_maternos_h1n1, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> uf, <span class="at">y =</span> mortalidade, <span class="at">fill =</span> <span class="fu">as.factor</span>(ano))) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="fu">vars</span>(regiao), <span class="at">scales =</span> <span class="st">"free_x"</span>, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Efeitos da pandemia de H1N1 na razão de mortalidade materna dos estados brasileiros"</span>, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fontes: SIM e SINASC"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Razão de mortalidade materna"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ano"</span>) <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#377EB8"</span>, <span class="st">"#B2182B"</span>, <span class="st">"#4DAF4A"</span>, <span class="st">"#FD8D3C"</span>)) <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>, <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Analisando os gráficos acima, podemos realizar algumas observações. Em primeiro lugar, 15 dos 27 estados brasileiros apresentaram um aumento na razão de mortalidade materna em 2009, incluindo todos os quatro estados da região Sudeste. Já em 2010, ano em que foi iniciada a campanha de vacinação nacional, podemos observar um efeito contrário: 18 dos 27 estados tiveram o valor de sua razão diminuído, tendência que também pode ser observada em 2011, primeiro ano pós-pandemia, no qual 19 unidades federativas apresentaram uma redução em sua razão de mortalidade materna. Apesar de não podermos afirmar com plena certeza, sem análises mais profundas, que a pandemia da Influenza A, bem como seu declínio e o início da vacinação, são os responsáveis pelos efeitos citados observando apenas os gráficos feitos, podemos, no mínimo, considerá-los como fortes candidatos. Mas passemos agora para o próximo exemplo. Vamos falar sobre as diferenças regionais do Brasil no que tange à razão de mortalidade materna.</p>
</section>
<section id="observando-a-heterogeneidade-das-regiões-brasileiras-por-meio-de-um-gráfico-de-linhas" class="level1">
<h1>Observando a heterogeneidade das regiões brasileiras por meio de um gráfico de linhas</h1>
<p>Não é segredo que o território brasileiro é marcado por intensas diferenças socioeconômicas nas mais diversas escalas geográficas. Quando pensamos nas regiões do país, sabemos que, historicamente, uma série de fatores como a concentração industrial, a ocupação tardia e aspectos naturias contribuíram para o desenvolvimento desigual das mesmas, o que pode ser constatado através da comparação entre vários tipos de indicadores das cinco regiões brasileiras. Tomando como exemplo o IDHM (Índice de Desenvolvimento Humano Municipal), temos, de acordo com <a href="https://portaldeboaspraticas.iff.fiocruz.br/biblioteca/desenvolvimento-humano-nas-macrorregioesbrasileiras/">dados do PNUD</a> (Programa das Nações Unidas para o Desenvolvimento), que em 2016 as regiões Norte e Nordeste possuíam os piores índices do país, atingindo, respectivamente, 0,667 e 0,663, números consideravelmente mais baixos do que os das regiões Sudeste (0,766), Centro-Oeste (0,757) e Sul (0,754). No que diz respeito à razão de mortalidade materna, veremos neste exemplo que essa tendência se repete, utilizando, para isso, um gráfico de (várias) linhas que nos permitirá analisar como se dá a desigualdade desse indicador entre as cinco regiões do Brasil.</p>
<p>O primeiro passo, como sempre, é preparar os dados. De forma semelhante ao exemplo anterior, vamos agrupar os dados utilizando a função <tt>group_by</tt> e os resumir com <tt>summarise</tt>. A diferença é que aqui estaremos agrupando a tibble <tt>dados_maternos</tt> por região e ano, ao invés de agrupá-los somente por ano.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupando os dados por região e ano e os resumindo</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>dados_maternos_regional <span class="ot">&lt;-</span> <span class="fu">group_by</span>(dados_maternos, regiao, ano) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">nascimentos_reg =</span> <span class="fu">sum</span>(nascimentos),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">obitos_reg =</span> <span class="fu">sum</span>(obitos),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">mortalidade_reg =</span> <span class="fu">round</span>((obitos_reg<span class="sc">/</span>nascimentos_reg) <span class="sc">*</span> <span class="dv">100000</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Quanto ao gráfico, utilizaremos para o argumento <tt>data</tt>, da função <tt>ggplot</tt>, a tibble criada no passo anterior, enquanto os aesthetics de <tt>mapping</tt> serão três: no eixo x, deve ser representada a variável <tt>ano</tt>; no eixo y, a variável <tt>mortalidade_reg</tt>; quanto ao argumento <tt>color</tt>, queremos que as linhas sejam coloridas de acordo com a variável <tt>regiao</tt>. O complemento <tt>geom_line</tt> criará as linhas do gráfico, cuja expessura é alterada utilizando o argumento <tt>color</tt>. Em <tt>scale_x_continuous</tt>, definiremos com o argumento <tt>breaks</tt> que as marcações do eixo x devem ocorrer em intervalos de um ano. Com o complemento <tt>geom_text</tt>, escreveremos ao final das linhas a respectiva região que cada linha representa. Para isso, no argumento <tt>data</tt>, filtraremos nossa tibble para manter apenas as linhas em que o ano é o último, ou seja, 2019. Os aesthetics de <tt>mapping</tt> serão os seguintes: em <tt>label</tt>, onde devemos dizer o que será escrito no gráfico, escolhemos a variável <tt>regiao</tt>, o que fará com que sejam escritos os nomes das cinco regiões; em <tt>x</tt>, definimos as coordenadas do eixo x em que serão escritos os textos determinados em <tt>label</tt>, os quais deverão estar levemente à direita do último ano de registro; em <tt>y</tt>, designamos as coordenadas do eixo y nas quais os textos serão escritos, e queremos que eles estejam na altura da razão de mortalidade materna do último ano; por fim, definimos em <tt>color</tt> que os textos devem ser coloridos de acordo com a variável <tt>regiao</tt>. O argumento <tt>clip = “off”</tt>, do complemento <tt>coord_cartesian</tt>, garante que os nomes das regiões não sejam cortados caso ultrapassem os limites do gráfico. Veja a seguir o gráfico resultante desse código.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construindo o gráfico de linhas</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados_maternos_regional, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ano, </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> mortalidade_reg,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">color =</span> regiao)) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(dados_maternos_regional<span class="sc">$</span>ano)) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolução da razão de mortalidade materna das cinco regiões brasileiras ao longo do tempo"</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fontes: SIM e SINASC"</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ano"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Razão de mortalidade materna"</span>) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> dados_maternos_regional <span class="sc">|&gt;</span> <span class="fu">filter</span>(ano <span class="sc">==</span> <span class="fu">last</span>(ano)), </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> regiao,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">x =</span> ano <span class="sc">+</span> <span class="fl">0.75</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y =</span> mortalidade_reg, </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color =</span> regiao),</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">4.5</span>) <span class="sc">+</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Observando o gráfico acima, podemos destacar alguns pontos de interesse. Em primeiro lugar, é possível observar que em todos os anos analisados as regiões Norte ou Nordeste apresentaram as maiores razões de mortalidade materna do país, enquanto as regiões Sul ou Sudeste só não estiveram na outra ponta desse espectro no ano de 2007, quando a região Centro-Oeste apresentou o menor índice do Brasil. Além disso, outro ponto notório é o aumento expressivo nos valores desse indicador de 2008 para 2009 em quatro das cinco regiões brasileiras, assunto que já exploramos anteriormente. Por fim, podemos salientar a diminuição contínua na razão de mortalidade materna nordestina a partir de 2013, atingindo em 2019 níveis comparáveis aos da região Centro-Oeste. Vamos agora para o último exemplo deste post, no qual faremos uma breve análise do cenário atual da razão de mortalidade materna no país.</p>
</section>
<section id="analisando-o-cenário-atual-da-razão-de-mortalidade-materna-brasileira-por-meio-de-um-mapa-coroplético" class="level1">
<h1>Analisando o cenário atual da razão de mortalidade materna brasileira por meio de um mapa coroplético</h1>
<p>No ano de 2000, foram estabelecidos através da Declaração do Milênio da ONU os Objetivos de Desenvolvimento do Milênio (ODM), adotados por 191 Estados-membros (incluindo o Brasil), nos quais foram estipulados uma série de compromissos que visavam uma grande melhoria na qualidade de vida da população mundial até 2015. Entre esses objetivos, ficou estabelecido que o Brasil deveria reduzir, até o ano de 2015, a razão de mortalidade materna para 35 óbitos maternos a cada 100.000 nascidos vivos. O país, entretanto, assim como boa parte dos outros países signatários, falhou miseravelmente. Dessa forma, em 2015, foi proposta pela ONU uma nova agenda de desenvolvimento sustentável para os próximos 15 anos, a Agenda 2030, formada por 17 Objetivos de Desenvolvimento Sustentável (ODS). Nesses novos objetivos, o Brasil se comprometeu a reduzir, até 2030, a razão de mortalidade materna para 30 óbitos maternos a cada 100.000 nascidos vivos. Assim, nesse exemplo, utilizaremos um mapa coroplético para analisar o cenário atual desse indicador no país, discutindo sobre os impasses que dificultam a plena realização dos compromissos firmados perante à ONU em tempo hábil.</p>
<p>Para começo de conversa, um mapa coroplético é um tipo de mapa que utiliza cores de diferentes intensidades para exibir como o valor de uma certa variável varia numa determinada localização geográfica, utilizando colorações mais claras quando o valor dessa variável é menor e colorações mais escuras quando é maior. No nosso caso, estamos interessados em fazer um mapa cloroplético que represente a variação da razão de mortalidade materna de 2019 entre cada estado brasileiro.</p>
<p>O primeiro passo para a construção desse mapa é obter um arquivo do tipo <tt>shapefile</tt> que contenha o mapa do Brasil com as delimitações dos estados. Por sorte, o IBGE disponibiliza <a href="https://www.ibge.gov.br/geociencias/organizacao-do-territorio/malhas-territoriais/15774-malhas.html?=&amp;t=downloads">em seu site</a> tais arquivos para que qualquer pessoa possa realizar os seus downloads. Para facilitar o processo, faremos o download e a descompactação do arquivo de interesse diretamente com o R.</p>
<p>Primeiramente, guardaremos no vetor <tt>link_ufs</tt> o endereço do site do IBGE no qual o arquivo desejado está localizado. Com a função <tt>tempdir</tt>, do pacote básico <tt>base</tt>, criaremos um diretório temporário no qual o arquivo será salvo, realizando seu download através da função <tt>download.file</tt>, do pacote básico <tt>utils</tt>. Utilizaremos dois argumentos dessa função: o <tt>url</tt>, que recebe o link de download para o arquivo, e o <tt>destfile</tt>, que recebe o diretório no qual o arquivo será salvo, bem como seu nome. A descompactação do arquivo será realizada com a função <tt>unzip</tt>, também do pacote básico <tt>utils</tt>, na qual utilizamos o argumento <tt>zipfile</tt> para apontar o diretório no qual o arquivo está localizado, juntamente com seu nome, e o argumento <tt>exdir</tt> para dizer em qual diretório queremos que o arquivo descompactado se localize. Feito isso, aplicaremos a função <tt>st_read</tt>, do pacote <tt>sf</tt>, carregado no início do post, para ler o arquivo <tt>BR_UF_2020.shp</tt>, salvo no diretório temporário que criamos, e que contém os dados necessários para a construção do mapa brasileiro com as delimitações de cada estado. O resultado desse processo é um <tt>data.frame</tt> que será guardado no objeto <tt>br_ufs</tt>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fazendo o download e a descompactação dos arquivos necessários para o mapa coroplético</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>link_ufs <span class="ot">&lt;-</span> <span class="st">"ftp://geoftp.ibge.gov.br/organizacao_do_territorio/malhas_territoriais/malhas_municipais/municipio_2020/Brasil/BR/BR_UF_2020.zip"</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>tmp_dir <span class="ot">&lt;-</span> <span class="fu">tempdir</span>()</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> link_ufs, <span class="at">destfile =</span> <span class="fu">file.path</span>(tmp_dir, <span class="st">'BR_UF_2020.zip'</span>))</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> <span class="fu">file.path</span>(tmp_dir, <span class="st">'BR_UF_2020.zip'</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> tmp_dir)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>br_ufs <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="fu">file.path</span>(tmp_dir, <span class="st">"BR_UF_2020.shp"</span>),</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Veja abaixo as primeiras linhas de <tt>br_ufs</tt>. Note que as linhas estão ordenadas de acordo com o código dos estados, assim como a tibble <tt>dados_maternos</tt> com a qual estamos trabalhando.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(br_ufs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 4 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -73.99045 ymin: -13.6937 xmax: -46.06142 ymax: 5.271841
Geodetic CRS:  SIRGAS 2000
  CD_UF    NM_UF SIGLA_UF NM_REGIAO                       geometry
1    11 Rondônia       RO     Norte MULTIPOLYGON (((-65.3815 -1...
2    12     Acre       AC     Norte MULTIPOLYGON (((-71.07772 -...
3    13 Amazonas       AM     Norte MULTIPOLYGON (((-69.83766 -...
4    14  Roraima       RR     Norte MULTIPOLYGON (((-63.96008 2...
5    15     Pará       PA     Norte MULTIPOLYGON (((-51.43248 -...
6    16    Amapá       AP     Norte MULTIPOLYGON (((-50.45011 2...</code></pre>
</div>
</div>
<p>O próximo passo é adicionar ao <tt>data.frame</tt> criado acima a variável quantitativa com a qual queremos preencher nosso mapa, que nesse caso é a razão de mortalidade materna estadual do ano de 2019. Como a tibble <tt>dados_maternos</tt>, criada no início do post, também está ordenada de acordo com o código dos estados, precisamos apenas guardar no vetor <tt>mortalidade_2019</tt> o valor das razões de mortalidade materna estaduais do ano de 2019, utilizando para isso a função <tt>which</tt>, do pacote básico <tt>base</tt>. Após esse passo, utilizaremos a função <tt>mutate</tt> para adicionar ao <tt>data.frame br_ufs</tt> uma nova coluna, nomeada por <tt>mort_ufs</tt>, que será preenchida pelo vetor <tt>mortalidade_2019</tt>. Observe, entretanto, que estamos aplicando nesse vetor a função <tt>cut</tt>, que irá dividi-lo nos intervalos especificados. Assim, os valores que realmente serão atribuídos à coluna <tt>mort_ufs</tt> serão os intervalos nos quais as razões de mortalidade se encontram. É importante frizar que a concatenação entre o vetor <tt>mortalidade_2019</tt> e o <tt>data.frame br_ufs</tt> só poderá ser feita de forma direta porque ambos estão ordenados de acordo com o código das unidades federativas brasileiras.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtendo as razões de 2019, separando-as em intervalos e adicionando ao data.frame br_ufs</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>mortalidade_2019 <span class="ot">&lt;-</span> dados_maternos<span class="sc">$</span>mortalidade[<span class="fu">which</span>(dados_maternos<span class="sc">$</span>ano <span class="sc">==</span> <span class="dv">2019</span>)]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>br_ufs <span class="ot">&lt;-</span> br_ufs <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="st">"mort_ufs"</span> <span class="ot">=</span> <span class="fu">cut</span>(mortalidade_2019, <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">50</span>, <span class="dv">70</span>, <span class="dv">90</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O <tt>data.frame</tt> resultante do processo é o seguinte:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(br_ufs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 5 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -73.99045 ymin: -13.6937 xmax: -46.06142 ymax: 5.271841
Geodetic CRS:  SIRGAS 2000
  CD_UF    NM_UF SIGLA_UF NM_REGIAO                       geometry mort_ufs
1    11 Rondônia       RO     Norte MULTIPOLYGON (((-65.3815 -1...  (30,50]
2    12     Acre       AC     Norte MULTIPOLYGON (((-71.07772 -...  (30,50]
3    13 Amazonas       AM     Norte MULTIPOLYGON (((-69.83766 -...  (70,90]
4    14  Roraima       RR     Norte MULTIPOLYGON (((-63.96008 2...  (70,90]
5    15     Pará       PA     Norte MULTIPOLYGON (((-51.43248 -...  (70,90]
6    16    Amapá       AP     Norte MULTIPOLYGON (((-50.45011 2...  (30,50]</code></pre>
</div>
</div>
<p>Com os dados preparados, podemos, finalmente, partir para a construção do nosso mapa cloroplético, utilizando para isso a função <tt>geom_sf</tt>, do pacote <tt>ggplot2</tt>. O aesthetic <tt>fill = mort_ufs</tt>, da função <tt>ggplot</tt>, preencherá os estados de acordo com o intervalo no qual suas razões de mortalidade materna se encontram. Os demais complementos do gráfico já foram explicados ao longo dos exemplos anteriores.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construindo o mapa coroplético</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> br_ufs, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> mort_ufs)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mapa coroplético da razão de mortalidade materna por estado em 2019"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fontes: IBGE, SIM e SINASC"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"Óbitos maternos a cada"</span>, <span class="st">"100.000 nascidos vivos"</span>), <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Blues"</span>) <span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Se o Brasil planeja honrar o compromisso de reduzir a razão de mortalidade materna para 30 óbitos maternos a cada 100.000 nascidos vivos, claramente há um caminho árduo a ser percorrido. Observando o gráfico acima, podemos perceber que, de todos as 27 unidades federativas brasileiras, apenas o Distrito Federal estava abaixo do limite desejado em 2019, com 21,22 óbitos maternos a cada 100.000 nascidos vivos, enquanto outros 10 estados tinham sua razão de mortalidade materna dentro do intervalo de 30 a 50 óbitos maternos. Sete estados possuíam essa razão entre 70 e 90, dos quais seis se localizam nas regiões Norte ou Nordeste, o que concorda com a discussão anterior sobre as desigualdades regionais existentes no território brasileiro. Vale destacar ainda que estamos considerando os dados de 2019 como os mais atuais, visto que os dados de 2020 e 2021 são preliminares. Esses dois anos, entretanto, foram os anos em que, respectivamente, a pandemia da Covid-19 se iniciou e atingiu seu ápice. Quando consideramos que a pandemia da Influenza A foi responsável por um aumento significativo da razão de mortalidade materna nacional em 2009, mesmo que tenha causado “apenas” 2.101 óbitos totais no país, é assustador imaginar o efeito da atual pandemia nesse indicador, dado que já foram registrados mais de 627 mil óbitos pelo novo Coronavírus desde março de 2020, de acordo com o Ministério da Saúde.</p>
<p>Caso seja de seu interesse realizar uma leitura mais profunda sobre os dados do gráfico, terminaremos este exemplo construindo uma tabela que contém as razões de mortalidade materna estaduais em sua forma bruta, sem a divisão por intervalos. Para isso, filtraremos, primeiramente, a tibble <tt>dados_maternos</tt> para obter somente as linhas cujo ano é 2019, utilizando nesse processo a função <tt>filter</tt>. Na tibble resultante, aplicaremos a função <tt>select</tt> para selecionar todas as variáveis que queremos que estejam na tabela, e que nesse caso serão a sigla da unidade federativa, a região à qual pertence, o número de nascidos vivos e de óbitos maternos em 2019, e a razão de mortalidade materna de cada estado nesse mesmo período. Com a função <tt>arrange</tt>, ordenaremos os dados de forma crescente em relação à variável <tt>mortalidade</tt>. Por fim, com <tt>rename</tt>, renomearemos as colunas com os nomes que devem constar na tabela. A tibble resultante desse passo será guardada no objeto <tt>dados_2019</tt>, e todas as funções utilizadas nessa sequência pertencem ao pacote <tt>dplyr</tt>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparando os dados para a construção da tabela</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>dados_2019 <span class="ot">&lt;-</span> <span class="fu">filter</span>(dados_maternos, ano <span class="sc">==</span> <span class="dv">2019</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(uf, regiao, nascimentos, obitos, mortalidade) <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mortalidade) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"UF"</span> <span class="ot">=</span> uf, </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Região"</span> <span class="ot">=</span> regiao, </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Nº de nascimentos"</span> <span class="ot">=</span> nascimentos,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Nº de óbitos maternos"</span> <span class="ot">=</span> obitos, </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Razão de mortalidade materna"</span> <span class="ot">=</span> mortalidade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para a construção da tabela, será utilizada a função <tt>datatable</tt>, do pacote <tt>DT</tt>, carregado no início do post. O primeiro argumento da função, <tt>data</tt>, recebe a tibble <tt>dados_2019</tt>, criada no passo anterior. Em <tt>caption</tt>, diremos qual deve ser a legenda da tabela. O argumento <tt>options</tt> recebe uma lista de customizações que a tabela deve conter: desabilitamos a caixa de pesquisa utilizando <tt>searching = FALSE</tt>; com <tt>paging = FALSE</tt>, impedimos que a tabela seja separada em páginas; por fim, através de <tt>columnDefs = list(list(className = “dt-center”, targets = “_all”)))</tt>, determinamos que o alinhamento de todas as colunas deve ser centralizado. O resultado final de todo o processo pode ser visto a seguir.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construindo a tabela</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">data =</span> dados_2019, </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Tabela: Razão de mortalidade materna das unidades federativas brasileiras em 2019"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">"dt-center"</span>, <span class="at">targets =</span> <span class="st">"_all"</span>)))</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>          )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9aace244309dab804ee5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9aace244309dab804ee5">{"x":{"filter":"none","vertical":false,"caption":"<caption>Tabela: Razão de mortalidade materna das unidades federativas brasileiras em 2019<\/caption>","data":[["DF","SC","AP","RS","SE","PR","MG","PE","RO","SP","AC","MS","ES","BA","CE","AL","TO","PB","MT","GO","RN","RJ","MA","RR","AM","PI","PA"],["Centro-Oeste","Sul","Norte","Sul","Nordeste","Sul","Sudeste","Nordeste","Norte","Sudeste","Norte","Centro-Oeste","Sudeste","Nordeste","Nordeste","Nordeste","Norte","Nordeste","Centro-Oeste","Centro-Oeste","Nordeste","Sudeste","Nordeste","Norte","Norte","Nordeste","Norte"],[42422,98032,15356,134596,32697,153469,256892,133359,27028,583191,16280,43695,54925,197249,129185,49803,24449,57701,58852,96112,44031,207989,113317,14620,77622,47933,138341],[9,30,5,49,12,68,115,64,13,283,8,22,29,105,75,29,15,36,38,67,31,155,85,11,60,41,121],[21.22,30.6,32.56,36.41,36.7,44.31,44.77,47.99,48.1,48.53,49.14,50.35,52.8,53.23,58.06,58.23,61.35,62.39,64.57,69.71,70.4,74.52,75.01,75.24,77.3,85.54,87.47]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>UF<\/th>\n      <th>Região<\/th>\n      <th>Nº de nascimentos<\/th>\n      <th>Nº de óbitos maternos<\/th>\n      <th>Razão de mortalidade materna<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"paging":false,"columnDefs":[{"className":"dt-center","targets":"_all"}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>E com isso, aqui chegamos ao fim desse post. Esperamos que, por meio dessa leitura, os conceitos relativos à razão de mortalidade materna tenham ficado claros, e que os exemplos apresentados ao longo do texto tenham sido informativos o suficiente ao ponto de ser possível não só entender melhor sobre esse indicador, mas também descobrir novas funções e tipos diferentes de análises, principalmente visuais, que podem ser feitas através do R.</p>
</section>
<section id="referências" class="level1">
<h1>Referências</h1>
<p>https://bvsms.saude.gov.br/bvs/publicacoes/qualificacao_saude_sup/pdf/Atenc_saude3fase.pdf</p>
<p>http://svs.aids.gov.br/dantps/cgiae/sinasc/</p>
<p>http://svs.aids.gov.br/dantps/cgiae/sim/</p>
<p>https://g1.globo.com/Sites/Especiais/Noticias/0,,MUL1191163-16726,00-ORGANIZACAO+MUNDIAL+DE+SAUDE+DECLARA+PANDEMIA+DA+NOVA+GRIPE.html</p>
<p>https://piaui.folha.uol.com.br/lupa/2020/03/27/verificamos-coronavirus-h1n1/</p>
<p>https://portaldeboaspraticas.iff.fiocruz.br/biblioteca/desenvolvimento-humano-nas-macrorregioesbrasileiras/</p>
<p>https://www.elsevier.es/es-revista-reproducao-climaterio-385-articulo-mortalidade-materna-no-brasil-insucesso-S1413208714000089</p>
<p>https://paulofelipe.github.io/bag_of_posts/posts/2018-10-21-mapa-coropltico-com-ggplot2/</p>
<p>https://covid.saude.gov.br/</p>
<p>https://www.ibge.gov.br/geociencias/organizacao-do-territorio/malhas-territoriais/15774-malhas.html?=&amp;t=downloads</p>



</section>

<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">

</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{sant'ana herzog2022,
  author = {Sant’Ana Herzog, Rafael},
  title = {Entendendo, Calculando e Visualizando a Razão de Mortalidade
    Materna Do {Brasil} Com o {R}},
  date = {2022-01-25},
  url = {https://rafaherzog.github.io/rafasantanah/posts/25-01-2022-rmm/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-sant'ana herzog2022" class="csl-entry quarto-appendix-citeas" role="listitem">
Sant’Ana Herzog, Rafael. 2022. <span>“Entendendo, Calculando e
Visualizando a Razão de Mortalidade Materna Do Brasil Com o R.”</span>
January 25, 2022. <a href="https://rafaherzog.github.io/rafasantanah/posts/25-01-2022-rmm/">https://rafaherzog.github.io/rafasantanah/posts/25-01-2022-rmm/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>